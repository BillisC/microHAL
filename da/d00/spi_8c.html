<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>microHAL: src/drivers/peripherals/communication/spi.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">microHAL
   </div>
   <div id="projectbrief">An abstraction layer for your future F4xx projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_c718a368270b13c54d94892d20736f45.html">drivers</a></li><li class="navelem"><a class="el" href="../../dir_c9913bc8d79839cc8facb0cdebdaed9e.html">peripherals</a></li><li class="navelem"><a class="el" href="../../dir_3ca16765a2cfcdbcb3d94de13004a790.html">communication</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">spi.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Function defines for the SPI driver.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/d87/spi_8h_source.html">spi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/db0/defines_8h_source.html">defines.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afbc7771df11bca3b5ca9e2f823218d9b" id="r_afbc7771df11bca3b5ca9e2f823218d9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbc7771df11bca3b5ca9e2f823218d9b">spi_set_interrupts</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const struct <a class="el" href="../../de/d25/structSPIISR.html">SPIISR</a> config)</td></tr>
<tr class="memdesc:afbc7771df11bca3b5ca9e2f823218d9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables specified SPI interrupts.  <br /></td></tr>
<tr class="separator:afbc7771df11bca3b5ca9e2f823218d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1a9db6a0231d48bb27e0ef8d569281" id="r_a7f1a9db6a0231d48bb27e0ef8d569281"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f1a9db6a0231d48bb27e0ef8d569281">spi_set_direction</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const <a class="el" href="../../da/d87/spi_8h.html#a099c0952725896438ebbc5a48e122e80">spi_direction_t</a> dir)</td></tr>
<tr class="memdesc:a7f1a9db6a0231d48bb27e0ef8d569281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the SPI to the specified comm direction.  <br /></td></tr>
<tr class="separator:a7f1a9db6a0231d48bb27e0ef8d569281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2674b769ffef8c74e8b7db7e5ad23b3" id="r_ad2674b769ffef8c74e8b7db7e5ad23b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2674b769ffef8c74e8b7db7e5ad23b3">spi_set_prescaler</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const <a class="el" href="../../da/d87/spi_8h.html#ab03986d2a9ca55e00b005c9b1750f896">spi_prescaler_t</a> value)</td></tr>
<tr class="memdesc:ad2674b769ffef8c74e8b7db7e5ad23b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the SPI prescale divider.  <br /></td></tr>
<tr class="separator:ad2674b769ffef8c74e8b7db7e5ad23b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9903cefe90e79e7e9eb6b594db070376" id="r_a9903cefe90e79e7e9eb6b594db070376"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9903cefe90e79e7e9eb6b594db070376">spi_set_nss_mode</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const <a class="el" href="../../da/d87/spi_8h.html#a0feb9fe92703df8a8301644d584ff5b5">spi_nss_mode_t</a> mode)</td></tr>
<tr class="memdesc:a9903cefe90e79e7e9eb6b594db070376"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the SPI NSS pin to the specified mode.  <br /></td></tr>
<tr class="separator:a9903cefe90e79e7e9eb6b594db070376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8284b6475ec0bbee08702badb7913f30" id="r_a8284b6475ec0bbee08702badb7913f30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8284b6475ec0bbee08702badb7913f30">spi_set_dma</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const _Bool forTX, const _Bool forRX)</td></tr>
<tr class="memdesc:a8284b6475ec0bbee08702badb7913f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables DMA for SPI RX and/or TX.  <br /></td></tr>
<tr class="separator:a8284b6475ec0bbee08702badb7913f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b60e5518d10dad3a224e5d72bd4672" id="r_aa6b60e5518d10dad3a224e5d72bd4672"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6b60e5518d10dad3a224e5d72bd4672">spi_configure</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const struct <a class="el" href="../../dd/d07/structSPIConfig.html">SPIConfig</a> config)</td></tr>
<tr class="memdesc:aa6b60e5518d10dad3a224e5d72bd4672"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set SPI options from specified config.  <br /></td></tr>
<tr class="separator:aa6b60e5518d10dad3a224e5d72bd4672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb1c62c5c831d634141100da6b9b9336" id="r_aeb1c62c5c831d634141100da6b9b9336"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb1c62c5c831d634141100da6b9b9336">spi_tx_data</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const uint16_t data)</td></tr>
<tr class="memdesc:aeb1c62c5c831d634141100da6b9b9336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits specified SPI data.  <br /></td></tr>
<tr class="separator:aeb1c62c5c831d634141100da6b9b9336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f994d94f79344736c46ab243dbf426" id="r_a53f994d94f79344736c46ab243dbf426"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53f994d94f79344736c46ab243dbf426">spi_rx_data</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi)</td></tr>
<tr class="memdesc:a53f994d94f79344736c46ab243dbf426"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the received SPI data.  <br /></td></tr>
<tr class="separator:a53f994d94f79344736c46ab243dbf426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff8b4dd6dba7cd86a908e6fba1dc5696" id="r_aff8b4dd6dba7cd86a908e6fba1dc5696"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff8b4dd6dba7cd86a908e6fba1dc5696">spi_transceive_data</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const uint16_t data)</td></tr>
<tr class="memdesc:aff8b4dd6dba7cd86a908e6fba1dc5696"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit data, receive answer.  <br /></td></tr>
<tr class="separator:aff8b4dd6dba7cd86a908e6fba1dc5696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d48680dfda8f397fc97a1412446380" id="r_aa6d48680dfda8f397fc97a1412446380"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6d48680dfda8f397fc97a1412446380">spi_start</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const _Bool master)</td></tr>
<tr class="memdesc:aa6d48680dfda8f397fc97a1412446380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates the SPI peripheral with specified options.  <br /></td></tr>
<tr class="separator:aa6d48680dfda8f397fc97a1412446380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5aa46676f141ee26a527c772bd7498" id="r_a3a5aa46676f141ee26a527c772bd7498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a5aa46676f141ee26a527c772bd7498">spi_stop</a> (const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi)</td></tr>
<tr class="memdesc:a3a5aa46676f141ee26a527c772bd7498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the SPI peripheral communication.  <br /></td></tr>
<tr class="separator:a3a5aa46676f141ee26a527c772bd7498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function defines for the SPI driver. </p>
<p>This file contains all of the function definitions declared in <a class="el" href="../../da/d87/spi_8h.html" title="Function prototypes for the SPI interface.">spi.h</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Vasileios Ch. (BillisC) </dd></dl>
<dl class="bug"><dt><b><a class="el" href="../../de/da5/bug.html#_bug000012">Bug</a></b></dt><dd>None, yet. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa6b60e5518d10dad3a224e5d72bd4672" name="aa6b60e5518d10dad3a224e5d72bd4672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b60e5518d10dad3a224e5d72bd4672">&#9670;&#160;</a></span>spi_configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_configure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d07/structSPIConfig.html">SPIConfig</a></td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set SPI options from specified config. </p>
<p>The SPI configuration is located under the <a class="el" href="../../dd/d07/structSPIConfig.html" title="Contains additional SPI configuration.">SPIConfig</a> struct. Refer to the datasheet for the correct usage of these options.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">config</td><td>The SPI configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a53f994d94f79344736c46ab243dbf426" name="a53f994d94f79344736c46ab243dbf426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f994d94f79344736c46ab243dbf426">&#9670;&#160;</a></span>spi_rx_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t spi_rx_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the received SPI data. </p>
<p>The data can be read as soon as they are stored in the RX buffer from the shift register. You may pair this with an interrupt for better performance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The received data </dd></dl>

</div>
</div>
<a id="a7f1a9db6a0231d48bb27e0ef8d569281" name="a7f1a9db6a0231d48bb27e0ef8d569281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1a9db6a0231d48bb27e0ef8d569281">&#9670;&#160;</a></span>spi_set_direction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_direction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a099c0952725896438ebbc5a48e122e80">spi_direction_t</a></td>          <td class="paramname"><span class="paramname"><em>dir</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the SPI to the specified comm direction. </p>
<p>The available directions can be located under the spi_direction_t enum. Any other value will be ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">dir</td><td>The SPI direction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a8284b6475ec0bbee08702badb7913f30" name="a8284b6475ec0bbee08702badb7913f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8284b6475ec0bbee08702badb7913f30">&#9670;&#160;</a></span>spi_set_dma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_dma </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _Bool</td>          <td class="paramname"><span class="paramname"><em>forTX</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _Bool</td>          <td class="paramname"><span class="paramname"><em>forRX</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables DMA for SPI RX and/or TX. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">forTX</td><td>Enable / disable DMA for TX </td></tr>
    <tr><td class="paramname">forRX</td><td>Enable / disable DMA for RX </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="afbc7771df11bca3b5ca9e2f823218d9b" name="afbc7771df11bca3b5ca9e2f823218d9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc7771df11bca3b5ca9e2f823218d9b">&#9670;&#160;</a></span>spi_set_interrupts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_interrupts </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../de/d25/structSPIISR.html">SPIISR</a></td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables specified SPI interrupts. </p>
<p>The list of available SPI interrupts is located under the <a class="el" href="../../de/d25/structSPIISR.html" title="Contains SPI interrupt configuration.">SPIISR</a> struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">config</td><td>The interrupt config </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a9903cefe90e79e7e9eb6b594db070376" name="a9903cefe90e79e7e9eb6b594db070376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9903cefe90e79e7e9eb6b594db070376">&#9670;&#160;</a></span>spi_set_nss_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_nss_mode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a0feb9fe92703df8a8301644d584ff5b5">spi_nss_mode_t</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the SPI NSS pin to the specified mode. </p>
<p>The available NSS modes for the SPI are specified in the spi_nss_mode_t enum. Any other value will be ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">mode</td><td>The NSS pin mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="ad2674b769ffef8c74e8b7db7e5ad23b3" name="ad2674b769ffef8c74e8b7db7e5ad23b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2674b769ffef8c74e8b7db7e5ad23b3">&#9670;&#160;</a></span>spi_set_prescaler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_prescaler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#ab03986d2a9ca55e00b005c9b1750f896">spi_prescaler_t</a></td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the SPI prescale divider. </p>
<p>The available division values can be found in the spi_prescaler_t enum. Any other value will be ignored. Note that the prescaler will divide the clock speed of the bus of the peripheral and not the system clock. The resulting clock will be the baudrate of the SPI.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">value</td><td>The prescale divider </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="aa6d48680dfda8f397fc97a1412446380" name="aa6d48680dfda8f397fc97a1412446380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6d48680dfda8f397fc97a1412446380">&#9670;&#160;</a></span>spi_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_start </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _Bool</td>          <td class="paramname"><span class="paramname"><em>master</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiates the SPI peripheral with specified options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">master</td><td>Use master configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a3a5aa46676f141ee26a527c772bd7498" name="a3a5aa46676f141ee26a527c772bd7498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a5aa46676f141ee26a527c772bd7498">&#9670;&#160;</a></span>spi_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_stop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the SPI peripheral communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="aff8b4dd6dba7cd86a908e6fba1dc5696" name="aff8b4dd6dba7cd86a908e6fba1dc5696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff8b4dd6dba7cd86a908e6fba1dc5696">&#9670;&#160;</a></span>spi_transceive_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t spi_transceive_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit data, receive answer. </p>
<p>A combination of TX and RX functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">data</td><td>The data to transmit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The received data </dd></dl>

</div>
</div>
<a id="aeb1c62c5c831d634141100da6b9b9336" name="aeb1c62c5c831d634141100da6b9b9336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb1c62c5c831d634141100da6b9b9336">&#9670;&#160;</a></span>spi_tx_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_tx_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d87/spi_8h.html#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits specified SPI data. </p>
<p>The data parameter is 16-bit but you may set the LSB for 8-bit transfers. The SPI loads the data in the shift register and transmits using the configured byte order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">data</td><td>The data to transmit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
