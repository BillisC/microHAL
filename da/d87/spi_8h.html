<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>microHAL: src/drivers/peripherals/communication/spi.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">microHAL
   </div>
   <div id="projectbrief">An abstraction layer for your future F4xx projects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_c718a368270b13c54d94892d20736f45.html">drivers</a></li><li class="navelem"><a class="el" href="../../dir_c9913bc8d79839cc8facb0cdebdaed9e.html">peripherals</a></li><li class="navelem"><a class="el" href="../../dir_3ca16765a2cfcdbcb3d94de13004a790.html">communication</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">spi.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Function prototypes for the SPI interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dc/dfd/stm32f4xx_8h_source.html">stm32f4xx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/db0/defines_8h_source.html">defines.h</a>&quot;</code><br />
</div>
<p><a href="../../da/d87/spi_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d4b/structSPIRegs.html">SPIRegs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains SPI/I2S registers.  <a href="../../d8/d4b/structSPIRegs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d25/structSPIISR.html">SPIISR</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains SPI interrupt configuration.  <a href="../../de/d25/structSPIISR.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d07/structSPIConfig.html">SPIConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains additional SPI configuration.  <a href="../../dd/d07/structSPIConfig.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3bfd6d5bd60756cae5aa0203df5fba6c" id="r_a3bfd6d5bd60756cae5aa0203df5fba6c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3bfd6d5bd60756cae5aa0203df5fba6c">SPI</a>(ADDR)</td></tr>
<tr class="separator:a3bfd6d5bd60756cae5aa0203df5fba6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a97e3e01c2df8497e95a694782dc1bec6" id="r_a97e3e01c2df8497e95a694782dc1bec6"><td class="memItemLeft" align="right" valign="top"><a id="a97e3e01c2df8497e95a694782dc1bec6" name="a97e3e01c2df8497e95a694782dc1bec6"></a>
typedef enum <a class="el" href="#a0955bf68fd198e381017fa222fd32caf">spi_peripheral</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spi_peripheral_t</b></td></tr>
<tr class="memdesc:a97e3e01c2df8497e95a694782dc1bec6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI peripherals. <br /></td></tr>
<tr class="separator:a97e3e01c2df8497e95a694782dc1bec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f99ea97fe9c83c99ad606eb7617d7ef" id="r_a6f99ea97fe9c83c99ad606eb7617d7ef"><td class="memItemLeft" align="right" valign="top"><a id="a6f99ea97fe9c83c99ad606eb7617d7ef" name="a6f99ea97fe9c83c99ad606eb7617d7ef"></a>
typedef enum <a class="el" href="#aae9a7c46bf3393e0da72561a6e25c372">spi_communication</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spi_communication_t</b></td></tr>
<tr class="memdesc:a6f99ea97fe9c83c99ad606eb7617d7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI communication modes. <br /></td></tr>
<tr class="separator:a6f99ea97fe9c83c99ad606eb7617d7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0feb9fe92703df8a8301644d584ff5b5" id="r_a0feb9fe92703df8a8301644d584ff5b5"><td class="memItemLeft" align="right" valign="top"><a id="a0feb9fe92703df8a8301644d584ff5b5" name="a0feb9fe92703df8a8301644d584ff5b5"></a>
typedef enum <a class="el" href="#af3e5e2b6c6f822a67ff58ae40b5e5dc0">spi_nss_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spi_nss_mode_t</b></td></tr>
<tr class="memdesc:a0feb9fe92703df8a8301644d584ff5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI NSS pin modes. <br /></td></tr>
<tr class="separator:a0feb9fe92703df8a8301644d584ff5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03986d2a9ca55e00b005c9b1750f896" id="r_ab03986d2a9ca55e00b005c9b1750f896"><td class="memItemLeft" align="right" valign="top"><a id="ab03986d2a9ca55e00b005c9b1750f896" name="ab03986d2a9ca55e00b005c9b1750f896"></a>
typedef enum <a class="el" href="#ad804a367e04808894bb355280a2ee8e4">spi_prescaler</a>&#160;</td><td class="memItemRight" valign="bottom"><b>spi_prescaler_t</b></td></tr>
<tr class="memdesc:ab03986d2a9ca55e00b005c9b1750f896"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI clock dividers. <br /></td></tr>
<tr class="separator:ab03986d2a9ca55e00b005c9b1750f896"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0955bf68fd198e381017fa222fd32caf" id="r_a0955bf68fd198e381017fa222fd32caf"><td class="memItemLeft" align="right" valign="top"><a id="a0955bf68fd198e381017fa222fd32caf" name="a0955bf68fd198e381017fa222fd32caf"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0955bf68fd198e381017fa222fd32caf">spi_peripheral</a> { <b>SPI_PERIPH_LEN</b>
 }</td></tr>
<tr class="memdesc:a0955bf68fd198e381017fa222fd32caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI peripherals. <br /></td></tr>
<tr class="separator:a0955bf68fd198e381017fa222fd32caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9a7c46bf3393e0da72561a6e25c372" id="r_aae9a7c46bf3393e0da72561a6e25c372"><td class="memItemLeft" align="right" valign="top"><a id="aae9a7c46bf3393e0da72561a6e25c372" name="aae9a7c46bf3393e0da72561a6e25c372"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae9a7c46bf3393e0da72561a6e25c372">spi_communication</a> { <br />
&#160;&#160;<b>SPI_COMM_FULLDUPLEX</b> = 0x0
, <b>SPI_COMM_HALFDUPLEX_RX</b>
, <b>SPI_COMM_HALFDUPLEX_TX</b>
, <b>SPI_COMM_SIMPLEX_RX</b>
, <br />
&#160;&#160;<b>SPI_COMM_SIMPLEX_TX</b>
<br />
 }</td></tr>
<tr class="memdesc:aae9a7c46bf3393e0da72561a6e25c372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI communication modes. <br /></td></tr>
<tr class="separator:aae9a7c46bf3393e0da72561a6e25c372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e5e2b6c6f822a67ff58ae40b5e5dc0" id="r_af3e5e2b6c6f822a67ff58ae40b5e5dc0"><td class="memItemLeft" align="right" valign="top"><a id="af3e5e2b6c6f822a67ff58ae40b5e5dc0" name="af3e5e2b6c6f822a67ff58ae40b5e5dc0"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3e5e2b6c6f822a67ff58ae40b5e5dc0">spi_nss_mode</a> { <b>SPI_NSS_SOFT</b> = 0x0
, <b>SPI_NSS_HARD_OE</b>
, <b>SPI_NSS_HARD_OD</b>
 }</td></tr>
<tr class="memdesc:af3e5e2b6c6f822a67ff58ae40b5e5dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI NSS pin modes. <br /></td></tr>
<tr class="separator:af3e5e2b6c6f822a67ff58ae40b5e5dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad804a367e04808894bb355280a2ee8e4" id="r_ad804a367e04808894bb355280a2ee8e4"><td class="memItemLeft" align="right" valign="top"><a id="ad804a367e04808894bb355280a2ee8e4" name="ad804a367e04808894bb355280a2ee8e4"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad804a367e04808894bb355280a2ee8e4">spi_prescaler</a> { <br />
&#160;&#160;<b>SPI_PRESC_DIV2</b> = 0x0
, <b>SPI_PRESC_DIV4</b>
, <b>SPI_PRESC_DIV8</b>
, <b>SPI_PRESC_DIV16</b>
, <br />
&#160;&#160;<b>SPI_PRESC_DIV32</b>
, <b>SPI_PRESC_DIV64</b>
, <b>SPI_PRESC_DIV128</b>
, <b>SPI_PRESC_DIV256</b>
<br />
 }</td></tr>
<tr class="memdesc:ad804a367e04808894bb355280a2ee8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available SPI clock dividers. <br /></td></tr>
<tr class="separator:ad804a367e04808894bb355280a2ee8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afbc7771df11bca3b5ca9e2f823218d9b" id="r_afbc7771df11bca3b5ca9e2f823218d9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbc7771df11bca3b5ca9e2f823218d9b">spi_set_interrupts</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const struct <a class="el" href="../../de/d25/structSPIISR.html">SPIISR</a> config)</td></tr>
<tr class="memdesc:afbc7771df11bca3b5ca9e2f823218d9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables specified SPI interrupts.  <br /></td></tr>
<tr class="separator:afbc7771df11bca3b5ca9e2f823218d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac11409148f98d8489da4d633d22928" id="r_a3ac11409148f98d8489da4d633d22928"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ac11409148f98d8489da4d633d22928">spi_configure_communication</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const <a class="el" href="#a6f99ea97fe9c83c99ad606eb7617d7ef">spi_communication_t</a> com, const <a class="el" href="#a0feb9fe92703df8a8301644d584ff5b5">spi_nss_mode_t</a> nss)</td></tr>
<tr class="memdesc:a3ac11409148f98d8489da4d633d22928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the SPI communication / wiring.  <br /></td></tr>
<tr class="separator:a3ac11409148f98d8489da4d633d22928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51e7d68a40a19bc4a10edd96a89cb0a" id="r_aa51e7d68a40a19bc4a10edd96a89cb0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa51e7d68a40a19bc4a10edd96a89cb0a">spi_configure_clk</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const <a class="el" href="#ab03986d2a9ca55e00b005c9b1750f896">spi_prescaler_t</a> div, _Bool polarity, _Bool phase)</td></tr>
<tr class="memdesc:aa51e7d68a40a19bc4a10edd96a89cb0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the SPI prescale divider.  <br /></td></tr>
<tr class="separator:aa51e7d68a40a19bc4a10edd96a89cb0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d00cd816778ebf72eda83d09bcd14d" id="r_aa1d00cd816778ebf72eda83d09bcd14d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1d00cd816778ebf72eda83d09bcd14d">spi_set_ssi_state</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const _Bool state)</td></tr>
<tr class="memdesc:aa1d00cd816778ebf72eda83d09bcd14d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the internal SS to the desired state.  <br /></td></tr>
<tr class="separator:aa1d00cd816778ebf72eda83d09bcd14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8284b6475ec0bbee08702badb7913f30" id="r_a8284b6475ec0bbee08702badb7913f30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8284b6475ec0bbee08702badb7913f30">spi_set_dma</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const _Bool forTX, const _Bool forRX)</td></tr>
<tr class="memdesc:a8284b6475ec0bbee08702badb7913f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables DMA for SPI RX and/or TX.  <br /></td></tr>
<tr class="separator:a8284b6475ec0bbee08702badb7913f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a715a5f32afdd5f7aed571fd4f3a40" id="r_a66a715a5f32afdd5f7aed571fd4f3a40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66a715a5f32afdd5f7aed571fd4f3a40">spi_configure_options</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const struct <a class="el" href="../../dd/d07/structSPIConfig.html">SPIConfig</a> config)</td></tr>
<tr class="memdesc:a66a715a5f32afdd5f7aed571fd4f3a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set SPI options from specified config.  <br /></td></tr>
<tr class="separator:a66a715a5f32afdd5f7aed571fd4f3a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb1c62c5c831d634141100da6b9b9336" id="r_aeb1c62c5c831d634141100da6b9b9336"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb1c62c5c831d634141100da6b9b9336">spi_tx_data</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const uint16_t data)</td></tr>
<tr class="memdesc:aeb1c62c5c831d634141100da6b9b9336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits specified SPI data.  <br /></td></tr>
<tr class="separator:aeb1c62c5c831d634141100da6b9b9336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f994d94f79344736c46ab243dbf426" id="r_a53f994d94f79344736c46ab243dbf426"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53f994d94f79344736c46ab243dbf426">spi_rx_data</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi)</td></tr>
<tr class="memdesc:a53f994d94f79344736c46ab243dbf426"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the received SPI data.  <br /></td></tr>
<tr class="separator:a53f994d94f79344736c46ab243dbf426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66fb1f4a8c4b3f3a2c9a5520ef930911" id="r_a66fb1f4a8c4b3f3a2c9a5520ef930911"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66fb1f4a8c4b3f3a2c9a5520ef930911">spi_trx_data</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const uint16_t data)</td></tr>
<tr class="memdesc:a66fb1f4a8c4b3f3a2c9a5520ef930911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit data, receive answer.  <br /></td></tr>
<tr class="separator:a66fb1f4a8c4b3f3a2c9a5520ef930911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d48680dfda8f397fc97a1412446380" id="r_aa6d48680dfda8f397fc97a1412446380"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6d48680dfda8f397fc97a1412446380">spi_start</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi, const _Bool master)</td></tr>
<tr class="memdesc:aa6d48680dfda8f397fc97a1412446380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates the SPI peripheral with specified options.  <br /></td></tr>
<tr class="separator:aa6d48680dfda8f397fc97a1412446380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5aa46676f141ee26a527c772bd7498" id="r_a3a5aa46676f141ee26a527c772bd7498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a5aa46676f141ee26a527c772bd7498">spi_stop</a> (const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a> spi)</td></tr>
<tr class="memdesc:a3a5aa46676f141ee26a527c772bd7498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the SPI peripheral communication.  <br /></td></tr>
<tr class="separator:a3a5aa46676f141ee26a527c772bd7498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function prototypes for the SPI interface. </p>
<p>This file contains all of the enums, macros, and function prototypes required for a functional SPI interface.</p>
<p>Multi-slave switching is not available, so please handle GPIOs manually.</p>
<dl class="section author"><dt>Author</dt><dd>Vasileios Ch. (BillisC) </dd></dl>
<dl class="bug"><dt><b><a class="el" href="../../de/da5/bug.html#_bug000013">Bug</a></b></dt><dd>None, yet. </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3bfd6d5bd60756cae5aa0203df5fba6c" name="a3bfd6d5bd60756cae5aa0203df5fba6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfd6d5bd60756cae5aa0203df5fba6c">&#9670;&#160;</a></span>SPI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ADDR</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<span class="keyword">struct </span><a class="code hl_struct" href="../../d8/d4b/structSPIRegs.html">SPIRegs</a> *)(ADDR);</div>
<div class="ttc" id="astructSPIRegs_html"><div class="ttname"><a href="../../d8/d4b/structSPIRegs.html">SPIRegs</a></div><div class="ttdoc">Contains SPI/I2S registers.</div><div class="ttdef"><b>Definition</b> spi.h:24</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa51e7d68a40a19bc4a10edd96a89cb0a" name="aa51e7d68a40a19bc4a10edd96a89cb0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa51e7d68a40a19bc4a10edd96a89cb0a">&#9670;&#160;</a></span>spi_configure_clk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_configure_clk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#ab03986d2a9ca55e00b005c9b1750f896">spi_prescaler_t</a></td>          <td class="paramname"><span class="paramname"><em>div</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool</td>          <td class="paramname"><span class="paramname"><em>polarity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool</td>          <td class="paramname"><span class="paramname"><em>phase</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the SPI prescale divider. </p>
<p>The available division values can be found in the spi_prescaler_t enum. Any other value will be ignored. Note that the prescaler will divide the clock speed of the bus of the peripheral and not the system clock. The resulting clock will be the baudrate of the SPI.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">div</td><td>The prescale divider </td></tr>
    <tr><td class="paramname">polarity</td><td>The default state of the clock </td></tr>
    <tr><td class="paramname">phase</td><td>Capture data on first or second pulse </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a3ac11409148f98d8489da4d633d22928" name="a3ac11409148f98d8489da4d633d22928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac11409148f98d8489da4d633d22928">&#9670;&#160;</a></span>spi_configure_communication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_configure_communication </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#a6f99ea97fe9c83c99ad606eb7617d7ef">spi_communication_t</a></td>          <td class="paramname"><span class="paramname"><em>com</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="#a0feb9fe92703df8a8301644d584ff5b5">spi_nss_mode_t</a></td>          <td class="paramname"><span class="paramname"><em>nss</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the SPI communication / wiring. </p>
<p>The available communication and nss modes can be located under the spi_communication_t and spi_nss_mode_t enums. Any other value will be ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">dir</td><td>The communication mode </td></tr>
    <tr><td class="paramname">nss</td><td>The NSS pin mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a66a715a5f32afdd5f7aed571fd4f3a40" name="a66a715a5f32afdd5f7aed571fd4f3a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66a715a5f32afdd5f7aed571fd4f3a40">&#9670;&#160;</a></span>spi_configure_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_configure_options </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../dd/d07/structSPIConfig.html">SPIConfig</a></td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set SPI options from specified config. </p>
<p>The SPI configuration is located under the <a class="el" href="../../dd/d07/structSPIConfig.html" title="Contains additional SPI configuration.">SPIConfig</a> struct. Refer to the datasheet for the correct usage of these options.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">config</td><td>The SPI configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a53f994d94f79344736c46ab243dbf426" name="a53f994d94f79344736c46ab243dbf426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f994d94f79344736c46ab243dbf426">&#9670;&#160;</a></span>spi_rx_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t spi_rx_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the received SPI data. </p>
<p>The data can be read as soon as they are stored in the RX buffer from the shift register. You may pair this with an interrupt for better performance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The received data </dd></dl>

</div>
</div>
<a id="a8284b6475ec0bbee08702badb7913f30" name="a8284b6475ec0bbee08702badb7913f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8284b6475ec0bbee08702badb7913f30">&#9670;&#160;</a></span>spi_set_dma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_dma </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _Bool</td>          <td class="paramname"><span class="paramname"><em>forTX</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _Bool</td>          <td class="paramname"><span class="paramname"><em>forRX</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables DMA for SPI RX and/or TX. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">forTX</td><td>Enable / disable DMA for TX </td></tr>
    <tr><td class="paramname">forRX</td><td>Enable / disable DMA for RX </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="afbc7771df11bca3b5ca9e2f823218d9b" name="afbc7771df11bca3b5ca9e2f823218d9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc7771df11bca3b5ca9e2f823218d9b">&#9670;&#160;</a></span>spi_set_interrupts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_interrupts </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="../../de/d25/structSPIISR.html">SPIISR</a></td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables specified SPI interrupts. </p>
<p>The list of available SPI interrupts is located under the <a class="el" href="../../de/d25/structSPIISR.html" title="Contains SPI interrupt configuration.">SPIISR</a> struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">config</td><td>The interrupt config </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="aa1d00cd816778ebf72eda83d09bcd14d" name="aa1d00cd816778ebf72eda83d09bcd14d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1d00cd816778ebf72eda83d09bcd14d">&#9670;&#160;</a></span>spi_set_ssi_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_set_ssi_state </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _Bool</td>          <td class="paramname"><span class="paramname"><em>state</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the internal SS to the desired state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">state</td><td>The SSI state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="aa6d48680dfda8f397fc97a1412446380" name="aa6d48680dfda8f397fc97a1412446380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6d48680dfda8f397fc97a1412446380">&#9670;&#160;</a></span>spi_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_start </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const _Bool</td>          <td class="paramname"><span class="paramname"><em>master</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiates the SPI peripheral with specified options. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">master</td><td>Use master configuration </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a3a5aa46676f141ee26a527c772bd7498" name="a3a5aa46676f141ee26a527c772bd7498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a5aa46676f141ee26a527c772bd7498">&#9670;&#160;</a></span>spi_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_stop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the SPI peripheral communication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a id="a66fb1f4a8c4b3f3a2c9a5520ef930911" name="a66fb1f4a8c4b3f3a2c9a5520ef930911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66fb1f4a8c4b3f3a2c9a5520ef930911">&#9670;&#160;</a></span>spi_trx_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t spi_trx_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit data, receive answer. </p>
<p>A combination of TX and RX functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">data</td><td>The data to transmit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The received data </dd></dl>

</div>
</div>
<a id="aeb1c62c5c831d634141100da6b9b9336" name="aeb1c62c5c831d634141100da6b9b9336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb1c62c5c831d634141100da6b9b9336">&#9670;&#160;</a></span>spi_tx_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_tx_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a97e3e01c2df8497e95a694782dc1bec6">spi_peripheral_t</a></td>          <td class="paramname"><span class="paramname"><em>spi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits specified SPI data. </p>
<p>The data parameter is 16-bit but you may set the LSB for 8-bit transfers. The SPI loads the data in the shift register and transmits using the configured byte order.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spi</td><td>The selected SPI </td></tr>
    <tr><td class="paramname">data</td><td>The data to transmit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
