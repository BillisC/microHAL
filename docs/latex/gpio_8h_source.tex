\doxysection{gpio.\+h}
\hypertarget{gpio_8h_source}{}\label{gpio_8h_source}\index{src/drivers/gpio.h@{src/drivers/gpio.h}}
\mbox{\hyperlink{gpio_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#ifndef\ GPIO\_H}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#define\ GPIO\_H}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{/*\ -\/-\/\ Includes\ -\/-\/\ */}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{stm32f4xx_8h}{stm32f4xx.h}}"{}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{comment}{/*\ -\/-\/\ Structs\ -\/-\/\ */}}
\DoxyCodeLine{00023\ \textcolor{keyword}{struct\ }\_\_attribute\_\_((packed))\ \mbox{\hyperlink{structGPIORegs}{GPIORegs}}\ \{}
\DoxyCodeLine{00024\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ MODER;}
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ OTYPER;}
\DoxyCodeLine{00026\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ OSPEEDR;}
\DoxyCodeLine{00027\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ PUPDR;}
\DoxyCodeLine{00028\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ IDR;}
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ ODR;}
\DoxyCodeLine{00030\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ BSSR;}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ LCKR;}
\DoxyCodeLine{00032\ \ \ \textcolor{keyword}{volatile}\ uint32\_t\ AFR[2];}
\DoxyCodeLine{00033\ \};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{\_Static\_assert}((\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct\ }\mbox{\hyperlink{structGPIORegs}{GPIORegs}}))\ ==\ (\textcolor{keyword}{sizeof}(uint32\_t)\ *\ 10U),}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}GPIO\ register\ struct\ size\ mismatch.\ Is\ it\ aligned?"{}});}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#ifndef\ UTEST}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#define\ GPIO(bank)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\ \ (struct\ GPIORegs\ *)(GPIOA\_BASE\ +\ (0x400U\ *\ ((uint8\_t)bank\ -\/\ (uint8\_t)'A')))}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00042\ \textcolor{keyword}{extern}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structGPIORegs}{GPIORegs}}\ *GPIO(\textcolor{keyword}{const}\ uint8\_t\ bank);}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{comment}{/*\ -\/-\/\ Enums\ -\/-\/\ */}}
\DoxyCodeLine{00049\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{gpio_8h_ad41a68bf735698334fe528ac7a6d8df2}{gp\_dir}}\ \{}
\DoxyCodeLine{00050\ \ \ GP\_DIR\_IN\ =\ 0x00,}
\DoxyCodeLine{00051\ \ \ GP\_DIR\_OU\ =\ 0x01,}
\DoxyCodeLine{00052\ \ \ GP\_DIR\_AL\ =\ 0x02,}
\DoxyCodeLine{00053\ \ \ GP\_DIR\_AN\ =\ 0x03}
\DoxyCodeLine{00054\ \}\ \mbox{\hyperlink{gpio_8h_a2066c61dfaee27a2e15d2a7f6eb6be53}{gp\_dir\_t}};}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{gpio_8h_ac867e56268c45d8e06cd3f434c4f0ffe}{gp\_otype}}\ \{}
\DoxyCodeLine{00060\ \ \ GP\_OTYPE\_PP\ =\ 0x00,}
\DoxyCodeLine{00061\ \ \ GP\_OTYPE\_OD\ =\ 0x01}
\DoxyCodeLine{00062\ \}\ \mbox{\hyperlink{gpio_8h_abed873c90c4ec9e59dfd97ae7db692a2}{gp\_otype\_t}};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00067\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{gpio_8h_aa21c3be8ce01487bfa7ff29a74a03d86}{gp\_speed}}\ \{}
\DoxyCodeLine{00068\ \ \ GP\_SPEED\_LOW\ =\ 0x00,}
\DoxyCodeLine{00069\ \ \ GP\_SPEED\_MED\ =\ 0x01,}
\DoxyCodeLine{00070\ \ \ GP\_SPEED\_FAS\ =\ 0x02,}
\DoxyCodeLine{00071\ \ \ GP\_SPEED\_HIG\ =\ 0x03}
\DoxyCodeLine{00072\ \}\ \mbox{\hyperlink{gpio_8h_a20c9c8df4d3bdb4e8b241ae77851972d}{gp\_speed\_t}};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{gpio_8h_a17de1fea985582b9c6fe1acc1c130a74}{gp\_pupd}}\ \{}
\DoxyCodeLine{00078\ \ \ GP\_PUPD\_NONE\ =\ 0x00,}
\DoxyCodeLine{00079\ \ \ GP\_PUPD\_PLUP\ =\ 0x01,}
\DoxyCodeLine{00080\ \ \ GP\_PUPD\_PLDO\ =\ 0x02,}
\DoxyCodeLine{00081\ \}\ \mbox{\hyperlink{gpio_8h_a40e057b298dffe6a5e0fa8865394ef30}{gp\_pupd\_t}};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00094\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gpio_8h_ab0634f59138b12257c51f7a4c368b564}{gp\_set\_direction}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ bank,\ \textcolor{keyword}{const}\ uint8\_t\ pin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{gpio_8h_a2066c61dfaee27a2e15d2a7f6eb6be53}{gp\_dir\_t}}\ dir);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00107\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gpio_8h_a0af948fdb555a92e8d4d46674caec8a4}{gp\_set\_output\_type}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ bank,\ \textcolor{keyword}{const}\ uint8\_t\ pin,}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{gpio_8h_abed873c90c4ec9e59dfd97ae7db692a2}{gp\_otype\_t}}\ type);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00121\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gpio_8h_a1df7b4c9f5748cc16fe2391a6059a7d3}{gp\_set\_speed}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ bank,\ \textcolor{keyword}{const}\ uint8\_t\ pin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{gpio_8h_a20c9c8df4d3bdb4e8b241ae77851972d}{gp\_speed\_t}}\ speed);}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00135\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gpio_8h_aeae32bc56298cd61e481159fe52b242a}{gp\_set\_pupd}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ bank,\ \textcolor{keyword}{const}\ uint8\_t\ pin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{gpio_8h_a40e057b298dffe6a5e0fa8865394ef30}{gp\_pupd\_t}}\ poopdr);}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00148\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gpio_8h_a1746be7350679532a4ff89dc46ab802e}{gp\_set\_val}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ bank,\ \textcolor{keyword}{const}\ uint8\_t\ pin,\ \textcolor{keyword}{const}\ \_Bool\ value);}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00157\ uint8\_t\ \mbox{\hyperlink{gpio_8h_abd098fd2fb3167167a1a1126d50bf0b1}{gp\_read\_val}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ bank,\ \textcolor{keyword}{const}\ uint8\_t\ pin);}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00167\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{gpio_8h_ad5d096bcdb8870c66364dfa479c0e0af}{gp\_set\_af}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ bank,\ \textcolor{keyword}{const}\ uint8\_t\ pin,\ \textcolor{keyword}{const}\ uint8\_t\ af);}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ GPIO\_H\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
